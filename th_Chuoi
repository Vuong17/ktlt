#include<stdio.h>
#include<conio.h>
#include<string.h>

bool kiemTraToanSo(char s[]);
bool isLower(char c);
bool isUpper(char c);
int chuanHoa(char s[]);
void hoaDau(char s[]);
void cutName(char s[]);
void xoaTrongDau(char s[]);
void xoaTrongCuoi(char s[]);
void xoaTrongGiua(char s[]);

void main()
{
	char s[30];
	printf("Nhap chuoi: ");
	gets_s(s, 30);
	if (kiemTraToanSo(s) == true)
		printf("Chuoi toan so!\n");
	else
		printf("Chuoi khong toan so!\n");
	hoaDau(s);
	puts(s);
	//printf("Chuoi sau khi chuan hoa: %s\n", chuanHoa(s));
	cutName(s);
	puts(s);
	_getch();
}

bool kiemTraToanSo(char s[])
{
	for (int i = 0; i < strlen(s); i++)
	{
		if (s[i] < '0' || s[i] > '9')
			return false;
	}
	return true;
}

bool isLower(char c)
{
	return c >= 'a'&& c <= 'z';
}

bool isUpper(char c)
{
	return c >= 'A'&&c <= 'Z';
}

int chuanHoa(char s[])
{
	int dem = 0;
	for (int i = 0; i < strlen(s); i++)
	{
		if (s[i] == 32)
			dem++;
	}
	return dem;
}

void hoaDau(char s[])
{
	if (isLower(s[0]))
		s[0] = s[0] - 32;
	for (int i = 0; i < strlen(s) - 1; i++)
	{
		if (s[i] == 32 && isLower(s[i + 1]))
			s[i + 1] = s[i + 1] - 32;
		if (s[i] == 32 && isUpper(s[i + 1]))
			s[i + 1] = s[i + 1] + 32;
	}
}

void cutName(char s[])
{
	char name[50];
	int i = strlen(s) - 1;
	while (s[i] != 32)
		i--;
	strcpy_s(name, 30, &s[i + 1]);
	printf("Name: %s\n", name);
}

void xoaTrongDau(char s[])
{
	int i = 0;
	while (s[i] == ' '&&i < strlen(s))
		i++;
	strcpy_s(&s[0], 30, &s[i]);
}

void xoaTrongCuoi(char s[])
{
	while (s[strlen(s) - 1] == ' ')
		s[strlen(s) - 1] = '\0';
}

void xoaTrongGiua(char s[])
{
	int i = 0, n = strlen(s);
	while (i < n - 1)
	{
		if (s[i] == ' ' && s[i + 1] == ' ')
			strcpy_s(&s[i], 30, &s[i + 1]);
		else i++;
	}
}
